<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HanziFlow - Dynamic Memorization</title>
    <style>
      /* General styles for the body */
      body {
        background-color: #e0eaf2; /* Um azul muito claro e frio para o fundo */
        font-family: "Inter", sans-serif; /* Fonte moderna e legível */
        color: #2c3e50; /* Cor de texto azul-acinzentado escuro e profundo */
        margin: 0;
        padding: 0;
        font-size: 22px;
        min-height: 100vh; /* Ocupa a altura total da viewport */
        display: flex;
        justify-content: center; /* Centraliza horizontalmente */
        align-items: center; /* Centraliza verticalmente */
        box-sizing: border-box; /* Inclui padding e borda no cálculo de largura/altura */
      }

      /* Main content container */
      .content {
        text-align: center;
        padding: 30px;
        max-width: 900px; /* Largura máxima ligeiramente maior para desktops */
        width: 90%; /* Largura fluida para responsividade */
        background-color: #ffffff; /* Fundo branco limpo para o cartão */
        border-radius: 18px; /* Cantos ligeiramente mais arredondados */
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15); /* Sombra mais pronunciada e suave */
        box-sizing: border-box; /* Inclui padding e borda no cálculo de largura/altura */
        transition: all 0.3s ease-in-out; /* Transições suaves para redimensionamento */
      }

      /* Main title */
      h1 {
        color: #1a5276; /* Um azul royal forte e profundo para o título */
        margin-bottom: 30px;
        font-size: clamp(
          30px,
          5vw,
          48px
        ); /* Tamanho de fonte responsivo para o título */
      }

      /* Style for the displayed hanzi */
      .hanzi-display {
        font-size: clamp(
          80px,
          20vw,
          180px
        ); /* Tamanho muito grande e responsivo para o hanzi */
        font-weight: bold;
        margin: 25px 0;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3); /* Sombra mais suave e maior */
        line-height: 1; /* Garante que não haja espaço extra acima/abaixo do hanzi */
        color: #0d47a1; /* Um azul rico e profundo para o próprio hanzi */
      }

      /* Hanzi information (pinyin and meaning) */
      .hanzi-info {
        margin-top: 15px;
        font-size: clamp(18px, 3.5vw, 28px); /* Tamanho de fonte responsivo */
        color: #546e7a; /* Um azul-acinzentado ligeiramente mais claro para informações */
        line-height: 1.6; /* Espaçamento de linha melhorado */
      }

      .hanzi-info strong {
        color: #37474f; /* Azul-acinzentado mais escuro para rótulos */
      }

      /* Container for answer buttons */
      .answers {
        margin-top: 25px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px; /* Espaço entre os botões */
      }

      /* Style for answer buttons */
      .answers button {
        background-color: #4a6a9b; /* Um azul royal de tom médio para as opções */
        color: white;
        border: none;
        padding: 12px 25px;
        margin: 5px; /* Mantém alguma margem para botões individuais */
        border-radius: 8px; /* Ligeiramente mais arredondado */
        cursor: pointer;
        font-size: clamp(
          16px,
          3vw,
          22px
        ); /* Tamanho de fonte responsivo para os botões */
        transition: background-color 0.3s ease, transform 0.1s ease,
          box-shadow 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Sombra mais suave */
        flex: 1 1 auto; /* Permite que os botões cresçam e diminuam */
        max-width: 48%; /* Largura máxima para permitir dois botões por linha em telas maiores */
        min-width: 140px; /* Largura mínima para evitar esmagamento */
      }

      .answers button:hover {
        background-color: #37538c; /* Azul royal mais escuro ao passar o mouse */
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
      }

      .answers button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      /* Animations for visual feedback */
      .answers button.correct {
        animation: flashGreen 0.6s ease-in-out forwards; /* Mantido verde para feedback de correção */
      }

      .answers button.incorrect {
        animation: flashRed 0.6s ease-in-out forwards; /* Mantido vermelho para feedback de incorreção */
      }

      @keyframes flashGreen {
        0% {
          background-color: #4caf50;
        } /* Verde original */
        50% {
          background-color: #28a745;
        } /* Verde mais escuro */
        100% {
          background-color: #4caf50;
        }
      }

      @keyframes flashRed {
        0% {
          background-color: #f44336;
        } /* Vermelho original */
        50% {
          background-color: #dc3545;
        } /* Vermelho mais escuro */
        100% {
          background-color: #f44336;
        }
      }

      /* Container for difficulty buttons */
      .difficulty-btns {
        display: flex;
        flex-wrap: wrap; /* Permite que os botões quebrem em telas pequenas */
        justify-content: center;
        margin-top: 25px;
        gap: 10px; /* Espaço entre os botões */
      }

      /* Style for difficulty buttons */
      .difficulty-btns button {
        background-color: #78909c; /* Cinza mais suave para o padrão */
        color: white;
        border: none;
        padding: 12px 25px;
        margin: 5px;
        border-radius: 8px;
        cursor: pointer;
        font-size: clamp(16px, 3vw, 22px); /* Tamanho de fonte responsivo */
        transition: background-color 0.3s ease, transform 0.1s ease,
          box-shadow 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        flex: 1 1 auto; /* Permite que os botões cresçam e diminuam */
        max-width: 30%; /* Largura máxima para permitir três botões por linha em telas maiores */
        min-width: 120px; /* Largura mínima para evitar esmagamento */
      }

      .difficulty-btns button:hover {
        opacity: 0.9;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

      /* Specific colours for difficulty buttons (adjusted for softness) */
      .difficulty-btns button[data-difficulty="3"] {
        background-color: #2ecc71;
      } /* Fácil - Um verde mais vibrante */
      .difficulty-btns button[data-difficulty="2"] {
        background-color: #f39c12;
        color: white;
      } /* Médio - Um amarelo/laranja mais distinto */
      .difficulty-btns button[data-difficulty="1"] {
        background-color: #e74c3c;
      } /* Difícil - Um vermelho forte */

      /* Progress information */
      .score-info {
        margin-top: 30px;
        font-size: clamp(16px, 2.8vw, 20px); /* Tamanho de fonte responsivo */
        display: flex;
        flex-wrap: wrap; /* Permite que os itens quebrem */
        justify-content: space-around;
        padding: 15px 0;
        border-top: 1px solid #c8d6e5; /* Borda azul clara e sutil */
        border-bottom: 1px solid #c8d6e5;
        color: #546e7a;
      }

      .score-info p {
        margin: 8px 15px; /* Mais margem para espaçamento */
        white-space: nowrap; /* Evita que os números quebrem */
      }

      /* Completion message */
      #completion-message {
        margin-top: 30px;
        font-size: clamp(20px, 4vw, 32px); /* Tamanho de fonte responsivo */
        color: #1abc9c; /* Um teal fresco e vibrante para a conclusão */
        font-weight: bold;
        display: none;
        line-height: 1.5;
      }

      /* Responsiveness for smaller screens */
      @media (max-width: 768px) {
        .content {
          padding: 20px;
          width: 95%; /* Ocupa mais largura em telas menores */
        }

        .answers button,
        .difficulty-btns button {
          max-width: 100%; /* Empilha os botões verticalmente em telas pequenas */
        }
      }

      @media (max-width: 480px) {
        .content {
          padding: 15px;
        }

        .hanzi-display {
          font-size: clamp(60px, 20vw, 120px);
        }

        .hanzi-info {
          font-size: clamp(16px, 3.5vw, 24px);
        }

        .answers button,
        .difficulty-btns button {
          padding: 10px 18px;
          font-size: clamp(14px, 3vw, 20px);
          min-width: unset; /* Remove a largura mínima para permitir mais flexibilidade */
        }

        .score-info {
          font-size: clamp(14px, 2.8vw, 18px);
          flex-direction: column; /* Empilha os itens em telas muito pequenas */
          align-items: center; /* Centraliza os itens quando empilhados */
        }

        .score-info p {
          margin: 5px 0;
        }
      }
    </style>
  </head>

  <body>
    <div class="content">
      <h1>HanziFlow - Dynamic Memorization</h1>
      <div class="hanzi-display" id="hanzi-display"></div>
      <div class="hanzi-info" id="hanzi-details" style="display: none">
        <p><strong>Pinyin:</strong> <span id="pinyin-display"></span></p>
        <p><strong>Meaning:</strong> <span id="meaning-display"></span></p>
      </div>

      <div class="answers" id="answers"></div>

      <div id="difficulty-btns" class="difficulty-btns" style="display: none">
        <button data-difficulty="3">Easy</button>
        <button data-difficulty="2">Medium</button>
        <button data-difficulty="1">Difficult</button>
      </div>

      <div class="score-info">
        <p>Hanzis Seen: <span id="hanzi-seen">0</span></p>
        <p>Hanzis to Review: <span id="hanzi-to-review">0</span></p>
        <p>Total Hanzis: <span id="total-hanzi-count">0</span></p>
      </div>
      <div id="completion-message">
        Congratulations! You've reviewed all Hanzis for now!
      </div>
    </div>

    <script>
      // Hanzi data. Each object now includes 'difficulty' and 'lastReviewed'.
      // 'difficulty':
      //    0: New (never seen or rated)
      //    1: Difficult (requires more frequent review)
      //    2: Medium (requires review at a moderate interval)
      //    3: Easy (requires review at a long interval)
      // 'lastReviewed': Timestamp (milliseconds) of the last time the hanzi was reviewed and rated.
      let hanziData = [
        {
          hanzi: "不",
          pinyin: "Bù",
          meaning: "not, don't, negative prefix",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "是",
          pinyin: "Shì",
          meaning: "to be, yes, this, correct",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "故",
          pinyin: "Gù",
          meaning: "reason, cause, then",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "無",
          pinyin: "Wú",
          meaning: "not have, without, void",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "有",
          pinyin: "Yǒu",
          meaning: "have, possess, exist, bhava",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "生",
          pinyin: "Shēng",
          meaning: "life, birth, rebirth, samsara",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "又",
          pinyin: "Yòu",
          meaning: "again, also, furthermore",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "如",
          pinyin: "Rú",
          meaning: "like, as, according to",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "說",
          pinyin: "Shuō",
          meaning: "speak, explain, dharma teaching",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "中",
          pinyin: "Zhōng",
          meaning: "in the midst of, within, in between, while",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "者",
          pinyin: "Zhě",
          meaning: "one who, practitioner, subject of action",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "名",
          pinyin: "Míng",
          meaning: "name, conceptual designation, nominal existence",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "以",
          pinyin: "Yǐ",
          meaning: "by means of, because, in order to",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "若",
          pinyin: "Ruò",
          meaning: "if, like, as",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "心",
          pinyin: "Xīn",
          meaning: "heart, mind, intention, citta",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "為",
          pinyin: "Wèi",
          meaning: "because of, for, to, do",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "等",
          pinyin: "Děng",
          meaning: "etc, and so forth",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "法",
          pinyin: "Fǎ",
          meaning: "law, way, dharmas",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "曰",
          pinyin: "Yuē",
          meaning: "say, speak, called",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "人",
          pinyin: "Rén",
          meaning: "person, people, sentient being",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "得",
          pinyin: "Dé",
          meaning: "obtain, get, realization",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "知",
          pinyin: "Zhī",
          meaning: "know, discernment, prajna",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "亦",
          pinyin: "Yì",
          meaning: "too, as well, likewise",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "能",
          pinyin: "Néng",
          meaning: "can, capability, ability",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "何",
          pinyin: "Hé",
          meaning: "what, why, how",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "所",
          pinyin: "Suǒ",
          meaning: "place, location, that which",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "則",
          pinyin: "Zé",
          meaning: "then, therefore, rule",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "見",
          pinyin: "Jiàn",
          meaning: "see, view, drishti",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "此",
          pinyin: "Cǐ",
          meaning: "this, then, here",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "一",
          pinyin: "Yī",
          meaning: "one, single",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "相",
          pinyin: "Xiàng",
          meaning: "mutual, characteristics, lakshana",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "諸",
          pinyin: "Zhū",
          meaning: "all, various, many",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "色",
          pinyin: "Sè",
          meaning: "rūpa, color, form",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "因",
          pinyin: "Yīn",
          meaning: "cause, reason, hetu",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "業",
          pinyin: "Yè",
          meaning: "business, work, karma",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "行",
          pinyin: "Xíng",
          meaning: "saṃskāra, saṅkhāra, mental formations, practice, ir",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "應",
          pinyin: "Yìng",
          meaning: "respond, deal with",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "緣",
          pinyin: "Yuán",
          meaning: "cause, reason, dependence",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "答",
          pinyin: "Dá",
          meaning: "reply, agree",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "言",
          pinyin: "Yán",
          meaning: "words, say, speak",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "問",
          pinyin: "Wèn",
          meaning: "ask, investigate",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "滅",
          pinyin: "Miè",
          meaning: "extinguish, cease",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "受",
          pinyin: "Shòu",
          meaning: "vedanā, sensation, receive",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "苦",
          pinyin: "Gǔ",
          meaning: "bitter, suffering",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "善",
          pinyin: "Shàn",
          meaning: "good, positive, benevolent",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "我",
          pinyin: "Wǒ",
          meaning: "atman, self",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "非",
          pinyin: "Fēi",
          meaning: "not, negative, incorrect",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "智",
          pinyin: "Zhì",
          meaning: "discernment, wisdom",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "經",
          pinyin: "Jīng",
          meaning: "sutras, scriptures",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "身",
          pinyin: "Shēn",
          meaning: "body, life, kāya",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "樂",
          pinyin: "Lè",
          meaning: "music, delight",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "於",
          pinyin: "Yú",
          meaning: "in, to, by",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "佛",
          pinyin: "Fó",
          meaning: "buddha, buddhism",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "定",
          pinyin: "Dìng",
          meaning: "concentrate, samadhi, establish",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "欲",
          pinyin: "Yù",
          meaning: "passion, desire, aspiration",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "識",
          pinyin: "Shí",
          meaning: "vijñāna, viññāṇa, consciousness, cognition",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "三",
          pinyin: "Sān",
          meaning: "3",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "皆",
          pinyin: "Jiē",
          meaning: "all, in all cases",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "念",
          pinyin: "Niàn",
          meaning: "think about, remember",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "事",
          pinyin: "Shì",
          meaning: "event, happening, matter",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "斷",
          pinyin: "Duàn",
          meaning: "cut, interrupt, discontinuous",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "惱",
          pinyin: "Nǎo",
          meaning: "be affected by negative mental things",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "種",
          pinyin: "Zhǒng",
          meaning: "species, types, seed",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "道",
          pinyin: "Dào",
          meaning: "path, route, reason",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "而",
          pinyin: "Ér",
          meaning: "as much as, and, and so",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "二",
          pinyin: "Èr",
          meaning: "two, 2",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "四",
          pinyin: "Sì",
          meaning: "4, four",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "眾",
          pinyin: "Zhòng",
          meaning: "many, various, multitude",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "第",
          pinyin: "Dì",
          meaning: "prefix indicating ordinal number as sixth and so on, but",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "貪",
          pinyin: "Tān",
          meaning: "greed, craving",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "世",
          pinyin: "Shì",
          meaning: "generation, world, era",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "一切",
          pinyin: "Yīqiē",
          meaning: "all, each",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "切",
          pinyin: "Qiē",
          meaning: "cut, slice",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "時",
          pinyin: "Shí",
          meaning: "time, period, when",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "但",
          pinyin: "Dàn",
          meaning: "however, but",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "常",
          pinyin: "Cháng",
          meaning: "always, constant, frequent",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "五",
          pinyin: "Wǔ",
          meaning: "5, five",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "可",
          pinyin: "Kè",
          meaning: "can, ability",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "謂",
          pinyin: "Wèi",
          meaning: "say, so to speak, name",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "實",
          pinyin: "Shí",
          meaning: "efficiency, effectiveness, actual",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "想",
          pinyin: "Xiang",
          meaning: "saṃjñā, sañña, reflection on, concept",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "根",
          pinyin: "Gēn",
          meaning: "root, base",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "從",
          pinyin: "Cóng",
          meaning: "by, hence, of",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "汝",
          pinyin: "Rǔ",
          meaning: "you",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "離",
          pinyin: "Lí",
          meaning: "leave, separate from, be far from",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "處",
          pinyin: "Chǔ",
          meaning: "locus, reside, live",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "自",
          pinyin: "Zì",
          meaning: "own, private, since",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "別",
          pinyin: "Bié",
          meaning: "separate (from), to differentiate",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "淨",
          pinyin: "jìng",
          meaning: "pure, clean, immaculate",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "分",
          pinyin: "fēn",
          meaning: "to distinguish, sort out",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "在",
          pinyin: "zài",
          meaning: "be in, about, consist of",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "品",
          pinyin: "pǐn",
          meaning: "chapter, section",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "隨",
          pinyin: "Suí",
          meaning: "follow, in accordance with, subsequently",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "然",
          pinyin: "rán",
          meaning: "naturally, later, like this",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "煩",
          pinyin: "Fán",
          meaning: "bother, annoy, trouble",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "作",
          pinyin: "zuò",
          meaning: "make, work, compose",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "大",
          pinyin: "dài",
          meaning: "big, vast",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "異",
          pinyin: "Yì",
          meaning: "different, unusual, strange",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "眼",
          pinyin: "yǎn",
          meaning: "a glance, hole, opening",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "修",
          pinyin: "xiū",
          meaning: "study, cultivate",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "陰",
          pinyin: "yīn",
          meaning: "skandhas, aggregates, principle",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "盡",
          pinyin: "jǐn",
          meaning: "extinguish, exhaust",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "報",
          pinyin: "bào",
          meaning: "[karmic] fruit, retribution",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "明",
          pinyin: "míng",
          meaning: "discernment, bright",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "即",
          pinyin: "jí",
          meaning: "that is, namely, thus",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "入",
          pinyin: "rù",
          meaning: "enter, (sensory) inputs",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "慧",
          pinyin: "huì",
          meaning: "discernment (prajna)",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "地",
          pinyin: "dì",
          meaning: "earth (four elements, etc)",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "空",
          pinyin: "kōng",
          meaning: "empty (of atman, etc)",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "惡",
          pinyin: "è",
          meaning: "unhealthy, akuśala, something negative",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "過",
          pinyin: "guo",
          meaning: "misunderstanding, past",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "解",
          pinyin: "jiě",
          meaning: "understanding",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "當",
          pinyin: "dāng",
          meaning: "should be, fit, proper",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "十",
          pinyin: "shí",
          meaning: "10",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "罪",
          pinyin: "zuì",
          meaning: "wrongful act",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "或",
          pinyin: "huò",
          meaning: "either this... or that, perhaps",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "禪",
          pinyin: "chán",
          meaning: "dhyana, absorption",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "成",
          pinyin: "chéng",
          meaning: "realization, becoming",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "多",
          pinyin: "duō",
          meaning: "many",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "利",
          pinyin: "lì",
          meaning: "benefit, advantage",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "喜",
          pinyin: "xǐ",
          meaning: "joy, pleasure, well-being",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "意",
          pinyin: "yì",
          meaning: "mental attitude, intention",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "後",
          pinyin: "hòu",
          meaning: "after, later, behind",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "餘",
          pinyin: "yú",
          meaning: "the others, the remaining",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "云",
          pinyin: "yún",
          meaning: "say, speak",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "觀",
          pinyin: "guān",
          meaning: "vipashyana, discernment, observe, look",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "爾",
          pinyin: "ěr",
          meaning: "thus, then, those",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "耶",
          pinyin: "yē",
          meaning: "sentence ending, or interrogation, or transliteration",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "正",
          pinyin: "zhèng",
          meaning: "correct, rectify",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "也",
          pinyin: "yě",
          meaning: "sentence completion particle",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "漏",
          pinyin: "lòu",
          meaning: "contaminated, āsrava",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "死",
          pinyin: "sǐ",
          meaning: "death, die",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "脫",
          pinyin: "tuō",
          meaning: "release, liberation through understanding",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "羅",
          pinyin: "luó",
          meaning: "phonetic, e.g., arahat",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "取",
          pinyin: "qǔ",
          meaning: "attachment, cling, grasp",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "現",
          pinyin: "xiàn",
          meaning: "present, now, appear",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "起",
          pinyin: "qǐ",
          meaning: "arise, elicit, cause",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "依",
          pinyin: "yī",
          meaning: "rely on",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "諦",
          pinyin: "dì",
          meaning: "truth (two truths)",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "雖",
          pinyin: "suī",
          meaning: "even if, although",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "界",
          pinyin: "jiè",
          meaning: "world, loka, spheres",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "覺",
          pinyin: "jué",
          meaning: "awaken, wake up",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "觸",
          pinyin: "chù",
          meaning: "contact, sparśa, phassa",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "戒",
          pinyin: "jiè",
          meaning: "precepts, vinaya, monastic discipline",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "福",
          pinyin: "fú",
          meaning: "happiness, (worldly) benefit",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "來",
          pinyin: "lái",
          meaning: "come, came",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "語",
          pinyin: "yǔ",
          meaning: "language, buddha's discourse",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "果",
          pinyin: "guǒ",
          meaning: "fruit (both worldly and non-worldly), result",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "先",
          pinyin: "xiān",
          meaning: "first, ancient, previous",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "聞",
          pinyin: "wén",
          meaning: "hear",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "義",
          pinyin: "yì",
          meaning: "justice, meaning",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "論",
          pinyin: "lùn",
          meaning: "debate, treatise, theory",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "聲",
          pinyin: "shēng",
          meaning: "sound, voice, hear",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "與",
          pinyin: "yǔ",
          meaning: "and, with",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "未",
          pinyin: "wèi",
          meaning: "yet, not yet",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "及",
          pinyin: "jí",
          meaning: "and this, and that",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "邪",
          pinyin: "xié",
          meaning: "false, heterodox, perverse",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "他",
          pinyin: "tā",
          meaning: "other thing, other person, he",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "已",
          pinyin: "yǐ",
          meaning: "already occurred, already",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "間",
          pinyin: "jiān",
          meaning: "temporal interval, spatial interval",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "力",
          pinyin: "lì",
          meaning: "force, power",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "次",
          pinyin: "cì",
          meaning: "sequence, next",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "阿",
          pinyin: "ā",
          meaning: "phonetic 'a'",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "思",
          pinyin: "sī",
          meaning: "think, consider, thought",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "愛",
          pinyin: "ài",
          meaning: "desire with attachment, desire",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "捨",
          pinyin: "shě",
          meaning: "abandon, detachment",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "去",
          pinyin: "qù",
          meaning: "already passed, past",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "壞",
          pinyin: "huài",
          meaning: "undo, break",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "假",
          pinyin: "jiǎ",
          meaning: "nominal, fictitious",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "殺",
          pinyin: "shā",
          meaning: "kill",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "物",
          pinyin: "wù",
          meaning: "things in general",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "性",
          pinyin: "xìng",
          meaning: "svabhava, own nature",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "至",
          pinyin: "zhì",
          meaning: "reach, arrive",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "住",
          pinyin: "zhù",
          meaning: "inhabit, stability",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "初",
          pinyin: "chū",
          meaning: "first, beginning",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "上",
          pinyin: "shàng",
          meaning: "above, up",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "食",
          pinyin: "shí",
          meaning: "eat, food, feed",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "天",
          pinyin: "tiān",
          meaning: "deva world, heaven",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "復",
          pinyin: "fù",
          meaning: "repeat, or yet, return",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "六",
          pinyin: "liù",
          meaning: "6, six",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "信",
          pinyin: "xìn",
          meaning: "trust, śraddhā",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "數",
          pinyin: "shǔ",
          meaning: "number, several, frequently",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "聖",
          pinyin: "shèng",
          meaning: "noble, arya pudgala, 4 noble truths",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "施",
          pinyin: "shī",
          meaning: "offering, offer",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "出",
          pinyin: "chū",
          meaning: "exit, recluse, rupture",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "洹",
          pinyin: "huán",
          meaning:
            "phonetic way to compose the word like nirvana and srotāpanna",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "堅",
          pinyin: "jiān",
          meaning: "solidity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "使",
          pinyin: "shǐ",
          meaning: "klesha, cause, make",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "火",
          pinyin: "huǒ",
          meaning: "heat, fire",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "集",
          pinyin: "jí",
          meaning: "truth of origin, collection",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "求",
          pinyin: "qiú",
          meaning: "seek, request",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "具",
          pinyin: "jù",
          meaning: "complete, perfect",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "令",
          pinyin: "lìng",
          meaning: "to command, to order, cause, condition",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "比",
          pinyin: "bǐ",
          meaning: "compare, analogy",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "之",
          pinyin: "zhī",
          meaning: "of, it, possessive",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "少",
          pinyin: "shǎo",
          meaning: "few, little",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "合",
          pinyin: "gě",
          meaning: "combine, join, union",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "難",
          pinyin: "nán",
          meaning: "difficult, hard, obstacle",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "更",
          pinyin: "gèng",
          meaning: "more, again, further",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "破",
          pinyin: "pò",
          meaning: "to refute, break, destroy",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "勝",
          pinyin: "shèng",
          meaning: "victory, excel, supreme",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "乃",
          pinyin: "nǎi",
          meaning: "then, thus, therefore",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "香",
          pinyin: "xiāng",
          meaning: "fragrant, incense",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "憶",
          pinyin: "yì",
          meaning: "remember, memory",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "泥",
          pinyin: "ní",
          meaning: "clay, defilement, impurity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "瞋",
          pinyin: "chēn",
          meaning: "anger, hate, dvesha",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "差",
          pinyin: "chā",
          meaning: "distinction, difference",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "七",
          pinyin: "qī",
          meaning: "7",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "八",
          pinyin: "bā",
          meaning: "8",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "疑",
          pinyin: "yí",
          meaning: "doubt, suspect, indecision",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "水",
          pinyin: "shuǐ",
          meaning: "water, liquidity, fluidity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "足",
          pinyin: "jù",
          meaning: "sufficient, completeness, foot",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "今",
          pinyin: "jīn",
          meaning: "present, now, today",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "習",
          pinyin: "xí",
          meaning: "practice, study",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "其",
          pinyin: "qí",
          meaning: "this, such that",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "深",
          pinyin: "shēn",
          meaning: "deep",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "外",
          pinyin: "wài",
          meaning: "outside, tirthika",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "口",
          pinyin: "kǒu",
          meaning: "mouth",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "著",
          pinyin: "zhāo",
          meaning: "attachment",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "漢",
          pinyin: "hàn",
          meaning: "han ethnicity, used for transliteration",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "味",
          pinyin: "wèi",
          meaning: "taste, also transliteration",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "陀",
          pinyin: "tuó",
          meaning: "phonetic, also for transliteration, declivity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "夫",
          pinyin: "fū",
          meaning: "man, husband",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "結",
          pinyin: "jiē",
          meaning: "produce, fruit",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "德",
          pinyin: "dé",
          meaning: "merit, virtue",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "到",
          pinyin: "dào",
          meaning: "reach, realize",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "風",
          pinyin: "fēng",
          meaning: "mobility, wind",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "凡",
          pinyin: "fán",
          meaning: "ignorant, ordinary",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "命",
          pinyin: "mìng",
          meaning: "life",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "重",
          pinyin: "chóng",
          meaning: "heavy, repetition",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "獄",
          pinyin: "yù",
          meaning: "hell, prison",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "癡",
          pinyin: "chī",
          meaning: "avidya, ignorance",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "本",
          pinyin: "běn",
          meaning: "root, origin, source",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "百",
          pinyin: "bǎi",
          meaning: "hundred, many, manifold",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "增",
          pinyin: "zēng",
          meaning: "increase, add",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "丘",
          pinyin: "qiū",
          meaning: "phonetic for bhikkhu, monk",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "真",
          pinyin: "zhēn",
          meaning: "true, logical truth",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "便",
          pinyin: "biàn",
          meaning: "opportune, then, even if",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "瓶",
          pinyin: "píng",
          meaning: "vase, pot",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "量",
          pinyin: "liàng",
          meaning: "measure, quantity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "了",
          pinyin: "liǎo",
          meaning: "understand, finish",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "清",
          pinyin: "qīng",
          meaning: "pure, clear",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "虛",
          pinyin: "xū",
          meaning: "empty, false",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "必",
          pinyin: "bì",
          meaning: "must, necessity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "熱",
          pinyin: "rè",
          meaning: "hot, heat",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "慢",
          pinyin: "màn",
          meaning: "arrogant, conceit, mana",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "昧",
          pinyin: "mèi",
          meaning: "dark, ignorance",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "墮",
          pinyin: "duò",
          meaning: "fall",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "子",
          pinyin: "zǐ",
          meaning: "child, follower",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "門",
          pinyin: "mén",
          meaning: "door, gate",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "和",
          pinyin: "hé",
          meaning: "harmony, peace, and",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "恚",
          pinyin: "huì",
          meaning: "hate, dvesha",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "失",
          pinyin: "shī",
          meaning: "lose, loss",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "違",
          pinyin: "wéi",
          meaning: "violate, transgression",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "續",
          pinyin: "xù",
          meaning: "continue, continuity",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "攝",
          pinyin: "shè",
          meaning: "to include, to absorb",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "遠",
          pinyin: "yuǎn",
          meaning: "far, distant",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "憂",
          pinyin: "yōu",
          meaning: "worry, sorrow, anxiety",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "儀",
          pinyin: "yí",
          meaning: "reception of vinaya, rite, manner",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "須",
          pinyin: "xū",
          meaning: "phonetic for sotāpanna, srotāpanna, must",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "俱",
          pinyin: "jù",
          meaning: "complete, both, to be together",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "決",
          pinyin: "jué",
          meaning: "decide, determine",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "塵",
          pinyin: "chén",
          meaning: "dust, 5 or 6 objects of consciousness",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "由",
          pinyin: "yóu",
          meaning: "from, because of this",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "還",
          pinyin: "huán",
          meaning: "return, rebirth",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "學",
          pinyin: "xué",
          meaning: "learn, study",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "造",
          pinyin: "zào",
          meaning: "make, build",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "師",
          pinyin: "shī",
          meaning: "teacher, master",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "用",
          pinyin: "yòng",
          meaning: "in function of, use",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "益",
          pinyin: "yì",
          meaning: "benefit, advantages, increase",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "持",
          pinyin: "chí",
          meaning: "hold, maintain",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "日",
          pinyin: "rì",
          meaning: "sun, day",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "除",
          pinyin: "chú",
          meaning: "remove, to exclude",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "功",
          pinyin: "gōng",
          meaning: "merit, virtue",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "障",
          pinyin: "zhàng",
          meaning: "obstacle, barrier",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "止",
          pinyin: "zhǐ",
          meaning: "stop, to block",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "九",
          pinyin: "jiǔ",
          meaning: "nine, ninth, nine stages",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "通",
          pinyin: "tōng",
          meaning: "pass through, understand",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "發",
          pinyin: "fā",
          meaning: "to make arise, to issue",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "動",
          pinyin: "dòng",
          meaning: "movement, move, change",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "邊",
          pinyin: "biān",
          meaning: "extreme, edge",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "光",
          pinyin: "guāng",
          meaning: "light, bright",
          difficulty: 0,
          lastReviewed: null,
        },
        {
          hanzi: "下",
          pinyin: "xià",
          meaning: "down, below, lower",
          difficulty: 0,
          lastReviewed: null,
        },
      ];

      let currentHanziIndex = -1; // Index of the currently displayed hanzi
      // References to DOM elements
      const answersContainer = document.getElementById("answers"); // Element for answer buttons
      const difficultyBtnsContainer =
        document.getElementById("difficulty-btns");
      const hanziDisplay = document.getElementById("hanzi-display");
      const hanziDetails = document.getElementById("hanzi-details");
      const pinyinDisplay = document.getElementById("pinyin-display");
      const meaningDisplay = document.getElementById("meaning-display");
      const hanziSeenCount = document.getElementById("hanzi-seen");
      const hanziToReviewCount = document.getElementById("hanzi-to-review");
      const totalHanziCount = document.getElementById("total-hanzi-count");
      const completionMessage = document.getElementById("completion-message");

      /**
       * Loads user progress from localStorage.
       * If saved data exists, it's merged with the initial data,
       * ensuring new hanzis in the original list are preserved.
       */
      function loadProgress() {
        try {
          const savedData = localStorage.getItem("hanziFlowData");
          if (savedData) {
            const parsedData = JSON.parse(savedData);
            // Update difficulty and lastReviewed properties for existing hanzis
            hanziData.forEach((hanzi) => {
              const savedHanzi = parsedData.find(
                (d) => d.hanzi === hanzi.hanzi
              );
              if (savedHanzi) {
                hanzi.difficulty = savedHanzi.difficulty;
                hanzi.lastReviewed = savedHanzi.lastReviewed;
              }
            });
          }
        } catch (e) {
          console.error("Error loading progress from localStorage:", e);
          // Clear corrupted data if parsing error occurs
          localStorage.removeItem("hanziFlowData");
        }
      }

      /**
       * Saves the current hanzi state (difficulty and last review) to localStorage.
       */
      function saveProgress() {
        try {
          localStorage.setItem("hanziFlowData", JSON.stringify(hanziData));
        } catch (e) {
          console.error("Error saving progress to localStorage:", e);
        }
      }

      // Defines review intervals in milliseconds based on difficulty.
      // These are example values for demonstration. For real use, they would be longer.
      const reviewIntervals = {
        0: 0, // New hanzi: show immediately
        1: 5 * 60 * 1000, // Difficult: 5 minutes
        2: 30 * 60 * 1000, // Medium: 30 minutes
        3: 24 * 60 * 60 * 1000, // Easy: 1 day
      };

      /**
       * Selects the next hanzi for review based on the spaced repetition algorithm.
       * Prioritizes new hanzis or those overdue for review.
       * @returns {Object|null} The hanzi object to display, or null if no hanzis are due for review.
       */
      function getNextHanziForReview() {
        const now = Date.now(); // Current time in milliseconds

        // Filter hanzis that need to be reviewed now
        const dueHanzis = hanziData.filter((hanzi) => {
          // If it's a new hanzi, it needs immediate review
          if (hanzi.difficulty === 0 && hanzi.lastReviewed === null) {
            return true;
          }
          // If already reviewed, check if the review time has passed
          if (hanzi.lastReviewed !== null) {
            const nextReviewTime =
              new Date(hanzi.lastReviewed).getTime() +
              reviewIntervals[hanzi.difficulty];
            return now >= nextReviewTime;
          }
          return false; // Does not need review now
        });

        // If there are hanzis to review, sort them by difficulty (most difficult first)
        // and return the first one.
        if (dueHanzis.length > 0) {
          // Sort from most difficult (difficulty 1) to easiest (difficulty 3)
          dueHanzis.sort((a, b) => a.difficulty - b.difficulty);
          return dueHanzis[0];
        }

        // If no hanzis are due for review at the moment, return null
        return null;
      }

      /**
       * Generates an array of meaning options, including the correct answer
       * and some random (distractor) options.
       * @param {string} correctMeaning The correct meaning of the hanzi.
       * @returns {Array<string>} A shuffled array of meanings for the buttons.
       */
      function generateAnswerOptions(correctMeaning) {
        // Get all other meanings, excluding the correct one
        const allOtherMeanings = hanziData
          .map((item) => item.meaning)
          .filter((m) => m !== correctMeaning);

        // Shuffle other meanings and pick 3 distractors
        const shuffledOtherMeanings = shuffleArray(allOtherMeanings).slice(
          0,
          3
        );

        // Combine the correct meaning with distractors and shuffle everything
        const options = [correctMeaning, ...shuffledOtherMeanings];
        return shuffleArray(options);
      }

      /**
       * Shuffles an array using the Fisher-Yates algorithm.
       * @param {Array<any>} array The array to shuffle.
       * @returns {Array<any>} The shuffled array.
       */
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      /**
       * Displays the current hanzi on the interface.
       * Manages the visibility of interface elements (answer buttons/difficulty buttons).
       */
      function displayCurrentHanzi() {
        const hanziToDisplay = getNextHanziForReview();

        if (!hanziToDisplay) {
          // If no hanzis are due for review, display completion message
          completionMessage.style.display = "block";
          hanziDisplay.innerText = "🎉"; // An emoji to indicate completion
          hanziDetails.style.display = "none";
          answersContainer.style.display = "none"; // Hide answer buttons
          difficultyBtnsContainer.style.display = "none"; // Hide difficulty buttons
          updateCounts(); // Update counts even without hanzi to display
          return;
        }

        // Hide completion message if there are hanzis to display
        completionMessage.style.display = "none";

        // Find the index of the hanzi to display so we can update it in the original array
        currentHanziIndex = hanziData.indexOf(hanziToDisplay);
        const currentHanzi = hanziData[currentHanziIndex];

        // Update flashcard content
        hanziDisplay.innerText = currentHanzi.hanzi;
        pinyinDisplay.innerText = currentHanzi.pinyin;
        meaningDisplay.innerText = currentHanzi.meaning;

        // Hide details and difficulty buttons, show answer buttons
        hanziDetails.style.display = "none";
        difficultyBtnsContainer.style.display = "none";
        answersContainer.style.display = "flex"; // Show answer buttons

        // Generate and populate answer buttons
        const answerOptions = generateAnswerOptions(currentHanzi.meaning);
        answersContainer.innerHTML = answerOptions
          .map(
            (option) =>
              `<button onclick="checkAnswer(this, '${option.replace(
                /'/g,
                "\\'"
              )}')">${option}</button>`
          )
          .join("");

        updateCounts(); // Update progress counts
      }

      /**
       * Checks the selected answer from the user.
       * Provides visual feedback, reveals the meaning, then shows difficulty buttons.
       * @param {HTMLElement} selectedButton The button the user clicked.
       * @param {string} selectedAnswer The meaning selected by the user.
       */
      function checkAnswer(selectedButton, selectedAnswer) {
        const currentHanzi = hanziData[currentHanziIndex];
        const correctAnswer = currentHanzi.meaning;
        const allAnswerButtons = answersContainer.querySelectorAll("button");

        // Disable all answer buttons to prevent multiple clicks
        allAnswerButtons.forEach((button) => (button.disabled = true));

        if (selectedAnswer === correctAnswer) {
          selectedButton.classList.add("correct"); // Apply green animation
        } else {
          selectedButton.classList.add("incorrect"); // Apply red animation
          // Find and highlight the correct answer
          allAnswerButtons.forEach((button) => {
            if (button.innerText === correctAnswer) {
              button.style.backgroundColor = "#66bb6a"; // Verde mais suave para o correto
              button.style.color = "white"; // Garante que o texto seja visível
            }
          });
        }

        // Reveal pinyin and meaning
        hanziDetails.style.display = "block";
        answersContainer.style.display = "none"; // Hide answer buttons

        // After a short delay for the animation, show difficulty buttons
        setTimeout(() => {
          difficultyBtnsContainer.style.display = "flex";
        }, 700); // Adjust time if animation is longer/shorter
      }

      /**
       * Sets the difficulty for the current hanzi, updates the last reviewed date,
       * saves progress, and displays the next hanzi.
       * @param {number} difficultyLevel The difficulty level (1: Difficult, 2: Medium, 3: Easy).
       */
      function setDifficulty(difficultyLevel) {
        const currentHanzi = hanziData[currentHanziIndex];
        currentHanzi.difficulty = difficultyLevel; // Update difficulty
        currentHanzi.lastReviewed = Date.now(); // Set last reviewed date to now
        saveProgress(); // Save changes to localStorage
        displayCurrentHanzi(); // Load and display the next hanzi
      }

      /**
       * Updates the progress counts on the user interface.
       */
      function updateCounts() {
        // Count how many hanzis have been reviewed at least once
        const hanzisSeen = hanziData.filter(
          (h) => h.lastReviewed !== null
        ).length;

        // Count how many hanzis are pending review (new or overdue)
        const hanzisToReview = hanziData.filter((hanzi) => {
          if (hanzi.difficulty === 0 && hanzi.lastReviewed === null)
            return true; // Novo
          if (hanzi.lastReviewed !== null) {
            const nextReviewTime =
              new Date(hanzi.lastReviewed).getTime() +
              reviewIntervals[hanzi.difficulty];
            return Date.now() >= nextReviewTime; // Atrasado
          }
          return false;
        }).length;

        hanziSeenCount.innerText = hanzisSeen;
        hanziToReviewCount.innerText = hanzisToReview;
        totalHanziCount.innerText = hanziData.length;
      }

      // --- Event Listeners ---

      // Add listeners for difficulty buttons
      difficultyBtnsContainer.querySelectorAll("button").forEach((button) => {
        button.addEventListener("click", (event) => {
          // Get the difficulty level from the 'data-difficulty' attribute
          const difficulty = parseInt(event.target.dataset.difficulty);
          setDifficulty(difficulty);
        });
      });

      // Initialize the application when the DOM is fully loaded
      document.addEventListener("DOMContentLoaded", () => {
        loadProgress(); // Load saved progress
        displayCurrentHanzi(); // Display the first hanzi
        // Set an interval to update counts and check for new hanzis to review
        // This is useful if the user leaves the page open for a long time
        setInterval(updateCounts, 60 * 1000); // Every minute
      });
    </script>
  </body>
</html>
